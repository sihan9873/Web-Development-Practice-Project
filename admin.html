<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>简历管理后台 - 星辉科技</title>
    <link rel="stylesheet" href="assets/css/styles.css" />
    <style>
      .admin-header {
        background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        color: var(--white);
        padding: 2rem 0;
        margin-bottom: 2rem;
      }
      .admin-header h1 {
        margin: 0;
        color: var(--white);
      }
      .admin-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin-bottom: 2rem;
      }
      .stat-card {
        background: var(--white);
        border: 1px solid var(--border);
        border-radius: 1rem;
        padding: 1.5rem;
        text-align: center;
      }
      .stat-number {
        font-size: 2rem;
        font-weight: 700;
        color: var(--primary);
        margin-bottom: 0.5rem;
      }
      .stat-label {
        color: var(--muted);
        font-size: 0.9rem;
      }
      .admin-controls {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        margin-bottom: 1.5rem;
        align-items: center;
      }
      .search-box {
        flex: 1;
        min-width: 200px;
      }
      .search-box input {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid var(--border);
        border-radius: 0.75rem;
        font-size: 1rem;
      }
      .filter-group {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      .filter-group select {
        padding: 0.75rem;
        border: 1px solid var(--border);
        border-radius: 0.75rem;
        background: var(--white);
      }
      .admin-table {
        width: 100%;
        border-collapse: collapse;
        background: var(--white);
        border-radius: 1rem;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(15, 23, 42, 0.05);
      }
      .admin-table th {
        background: var(--bg);
        padding: 1rem;
        text-align: left;
        font-weight: 600;
        border-bottom: 2px solid var(--border);
      }
      .admin-table td {
        padding: 1rem;
        border-bottom: 1px solid var(--border);
      }
      .admin-table tr:hover {
        background: var(--bg);
      }
      .admin-table tr:last-child td {
        border-bottom: none;
      }
      .action-buttons {
        display: flex;
        gap: 0.5rem;
      }
      .btn-small {
        padding: 0.4rem 0.8rem;
        font-size: 0.875rem;
      }
      .btn-danger {
        background-color: #dc3545;
      }
      .btn-danger:hover {
        background-color: #c82333;
      }
      .empty-state {
        text-align: center;
        padding: 3rem;
        color: var(--muted);
      }
      .warning-box {
        background: #fff3cd;
        border: 1px solid #ffc107;
        border-radius: 1rem;
        padding: 1rem;
        margin-bottom: 2rem;
        color: #856404;
      }
      .export-buttons {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
      }
      @media (max-width: 768px) {
        .admin-table {
          font-size: 0.875rem;
        }
        .admin-table th,
        .admin-table td {
          padding: 0.75rem 0.5rem;
        }
        .action-buttons {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    <div class="admin-header">
      <div class="container">
        <h1>简历管理后台</h1>
        <p style="margin: 0.5rem 0 0; opacity: 0.9;">查看和管理所有投递的简历</p>
      </div>
    </div>

    <main class="container page">
      <div class="warning-box">
        <strong>提示：</strong>当前系统使用浏览器本地存储（localStorage），只能查看当前浏览器中的数据。如需跨设备、跨用户管理，建议部署后端服务器。
      </div>

      <div class="admin-stats">
        <div class="stat-card">
          <div class="stat-number" id="total-count">0</div>
          <div class="stat-label">总投递数</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="filtered-count">0</div>
          <div class="stat-label">当前显示</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="position-count">0</div>
          <div class="stat-label">职位类型</div>
        </div>
        <div class="stat-card">
          <div class="stat-number" id="today-count">0</div>
          <div class="stat-label">今日投递</div>
        </div>
      </div>

      <div class="admin-controls">
        <div class="search-box">
          <input
            type="text"
            id="search-input"
            placeholder="搜索姓名、邮箱、职位或电话..."
            aria-label="搜索简历"
          />
        </div>
        <div class="filter-group">
          <select id="position-filter" aria-label="按职位筛选">
            <option value="">全部职位</option>
          </select>
          <select id="sort-by" aria-label="排序方式">
            <option value="newest">最新优先</option>
            <option value="oldest">最早优先</option>
            <option value="name">按姓名</option>
          </select>
        </div>
        <div class="export-buttons">
          <button class="btn btn-small" id="export-json">导出 JSON</button>
          <button class="btn btn-small secondary" id="export-csv">导出 CSV</button>
          <button class="btn btn-small btn-danger" id="clear-all">清空所有</button>
        </div>
      </div>

      <div style="overflow-x: auto;">
        <table class="admin-table" aria-label="简历列表">
          <thead>
            <tr>
              <th>姓名</th>
              <th>职位</th>
              <th>邮箱</th>
              <th>电话</th>
              <th>简历链接</th>
              <th>投递时间</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody id="admin-table-body">
            <tr>
              <td colspan="7" class="empty-state">加载中...</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div id="detail-modal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; padding: 1rem;">
        <div style="background: var(--white); border-radius: 1rem; padding: 2rem; max-width: 600px; width: 100%; max-height: 80vh; overflow-y: auto;">
          <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
            <h2 style="margin: 0;">简历详情</h2>
            <button class="btn btn-small" id="close-modal">关闭</button>
          </div>
          <div id="detail-content"></div>
        </div>
      </div>
    </main>

    <footer class="site-footer">
      <div class="container">
        <p>© <span id="year"></span> 星辉科技有限公司 · 管理员后台</p>
        <p style="margin-top: 0.5rem;">
          <a href="index.html" style="color: var(--primary);">返回首页</a>
        </p>
      </div>
    </footer>

    <script src="assets/js/admin.js"></script>
  </body>
</html>


